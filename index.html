<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!--boot cdn-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
      crossorigin="anonymous"
    ></script>
    <!--boot end-->
    <!--bootstrap icon-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
    />
    <!--end icon-->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap"
      rel="stylesheet"
    />

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Odibee+Sans&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style.css" />
    <link
      rel="shortcut icon"
      href="./icon-removebg-preview.png"
      type="image/x-icon"
    />
    <title>Weather_App</title>
  </head>
  <body>
    <div class="container_lg">
      <div class="weather">
        <input placeholder="City Name" type="text" name="" id="inp" />
        <i class="bi bi-arrow-right-circle-fill inpbtn"></i>
        <!-- start star -->
        <i class="bi bi-star-fill star star1"></i>
        <i class="bi bi-star-fill star star2"></i>
        <i class="bi bi-star-fill star star3"></i>
        <i class="bi bi-star-fill star star4"></i>
        <i class="bi bi-star-fill star star5"></i>
        <i class="bi bi-star-fill star star6"></i>
        <i class="bi bi-star-fill star star7"></i>
        <i class="bi bi-star-fill star star8"></i>
        <i class="bi bi-star-fill star star9"></i>
        <i class="bi bi-star-fill star star10"></i>
        <!-- start star -->

        <!--cloud start-->
        <i class="bi bi-cloud-fill cloud cloud1"></i>
        <i class="bi bi-cloud-fill cloud cloud2"></i>
        <i class="bi bi-cloud-fill cloud cloud3"></i>
        <i class="bi bi-cloud-fill cloud cloud4"></i>
        <i class="bi bi-cloud-fill cloud cloud5"></i>
        <i class="bi bi-cloud-fill cloud cloud6"></i>
        <!--cloud end-->
        <div class="background">
          <h4 class="state">
            <span id="state"></span>,<span id="country"></span>
          </h4>
          <div>
            <p>
              <span id="day"></span>,<span id="month"></span>
              <span id="date"></span>,<span id="year"></span>
            </p>
            <p><span id="time"></span></p>
          </div>
          <i class="bi bi-sun-fill morning"></i>
          <i class="bi bi-moon-stars-fill night"></i>
          <i class="bi bi-clouds-fill cloud"></i>
          <div><span id="weather"></span></div>
          <div class="weather_icons">
            <div class="row">
              <div class="col">
                <i class="bi bi-thermometer-sun"></i>
                <div><span id="temp"></span><span>&deg;C</span></div>
              </div>
              <div class="col">
                <i class="bi bi-moisture"></i>
                <div><span id="humid"></span></div>
              </div>
              <div class="col">
                <i class="bi bi-wind"></i>
                <div><span id="wind"></span></div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col cent">
            <h4 class="tom" id="tom">Tomorrow</h4>
            <div>
              <span id="wind_icon"><i class="bi bi-thermometer-sun"></i></span
              ><span id="wind_tomorrow"></span><span>&deg;C</span>
            </div>
            <div>
              <span id="humid_icon"><i class="bi bi-moisture"></i></span
              ><span id="humid_tomorrow"></span>
            </div>
            <div>
              <span id="weath_icon"><i class="bi bi-wind"></i></span
              ><span id="weath_tomorrow"></span>
            </div>
          </div>
          <div class="col cent">
            <h4 class="tom" id="aft_tom">Tomorrow</h4>
            <div>
              <span id="wind_icon"><i class="bi bi-thermometer-sun"></i></span
              ><span id="wind_aft_tom"></span><span>&deg;C</span>
            </div>
            <div>
              <span id="humid_icon"><i class="bi bi-moisture"></i></span
              ><span id="humid_aft_tom"></span>
            </div>
            <div>
              <span id="weath_icon"><i class="bi bi-wind"></i></span
              ><span id="weath_aft_tom"></span>
            </div>
          </div>
          <div class="col cent">
            <h4 class="tom" id="day_aft_tom">Tomorrow</h4>
            <div>
              <span id="wind_icon"><i class="bi bi-thermometer-sun"></i></span
              ><span id="wind_day_aft_tom"></span><span>&deg;C</span>
            </div>
            <div>
              <span id="humid_icon"><i class="bi bi-moisture"></i></span
              ><span id="humid_day_aft_tom"></span>
            </div>
            <div>
              <span id="weath_icon"><i class="bi bi-wind"></i></span
              ><span id="weath_day_aft_tom"></span>
            </div>
          </div>
          <div class="col cent">
            <h4 class="tom" id="day_aft_aft_tom">Tomorrow</h4>
            <div>
              <span id="wind_icon"><i class="bi bi-thermometer-sun"></i></span
              ><span id="wind_day_aft_aft_tom"></span><span>&deg;C</span>
            </div>
            <div>
              <span id="humid_icon"><i class="bi bi-moisture"></i></span
              ><span id="humid_day_aft_aft_tom"></span>
            </div>
            <div>
              <span id="weath_icon"><i class="bi bi-wind"></i></span
              ><span id="weath_day_aft_aft_tom"></span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--script start-->
    <script>
      const time = () => {
        const newDate = new Date()
        let hourstring = newDate.getHours()
        let yearstring = newDate.getFullYear()
        let datestring = newDate.getDate()
        let daystring = newDate.getDay()
        let monthstring = newDate.getMonth()
        let timestring = newDate.toLocaleTimeString()
        document.getElementById('time').innerHTML = timestring
        let montharr = [
          'January',
          'February',
          'March',
          'April',
          'May',
          'June',
          'July',
          'August',
          'September',
          'October',
          'November',
          'December',
        ]
        let dayarr = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']
        document.getElementById('month').innerText = montharr[monthstring]
        document.getElementById('date').innerText = datestring
        document.getElementById('year').innerText = yearstring
        document.getElementById('day').innerText = dayarr[daystring]
        if (daystring == 6) {
          document.getElementById('tom').innerText = dayarr[0]
        } else {
          document.getElementById('tom').innerText = dayarr[daystring + 1]
        }
        if (daystring + 1 == 6) {
          document.getElementById('aft_tom').innerText = dayarr[0]
        } else if (daystring + 1 == 7) {
          document.getElementById('aft_tom').innerText = dayarr[1]
        } else {
          document.getElementById('aft_tom').innerText = dayarr[daystring + 2]
        }
        if (daystring + 2 == 6) {
          document.getElementById('day_aft_tom').innerText = dayarr[0]
        } else if (daystring + 2 == 7) {
          document.getElementById('day_aft_tom').innerText = dayarr[1]
        } else if (daystring + 2 == 8) {
          document.getElementById('day_aft_tom').innerText = dayarr[2]
        } else {
          document.getElementById('day_aft_tom').innerText =
            dayarr[daystring + 3]
        }
        if (daystring + 3 == 6) {
          document.getElementById('day_aft_aft_tom').innerText = dayarr[0]
        } else if (daystring + 3 == 7) {
          document.getElementById('day_aft_aft_tom').innerText = dayarr[1]
        } else if (daystring + 3 == 8) {
          document.getElementById('day_aft_aft_tom').innerText = dayarr[2]
        } else if (daystring + 3 == 9) {
          document.getElementById('day_aft_aft_tom').innerText = dayarr[3]
        } else {
          document.getElementById('day_aft_aft_tom').innerText =
            dayarr[daystring + 4]
        }

        const star1 = document.getElementsByClassName('star')[0]
        const star2 = document.getElementsByClassName('star')[1]
        const star3 = document.getElementsByClassName('star')[2]
        const star4 = document.getElementsByClassName('star')[3]
        const star5 = document.getElementsByClassName('star')[4]
        const star6 = document.getElementsByClassName('star')[5]
        const star7 = document.getElementsByClassName('star')[6]
        const star8 = document.getElementsByClassName('star')[7]
        const star9 = document.getElementsByClassName('star')[8]
        const star10 = document.getElementsByClassName('star')[9]

        const morn = document.getElementsByClassName('morning')[0]

        const night = document.getElementsByClassName('night')[0]

        const cloud1 = document.getElementsByClassName('cloud')[0]
        const cloud2 = document.getElementsByClassName('cloud')[1]
        const cloud3 = document.getElementsByClassName('cloud')[2]
        const cloud4 = document.getElementsByClassName('cloud')[3]
        const cloud5 = document.getElementsByClassName('cloud')[4]
        const cloud6 = document.getElementsByClassName('cloud')[5]

        const back = document.getElementsByClassName('container_lg')[0]

        const weath = document.getElementsByClassName('weather')[0]
        if (
          hourstring >= 18 ||
          hourstring == 0 ||
          hourstring == 1 ||
          hourstring == 2 ||
          hourstring == 3 ||
          hourstring == 4 ||
          hourstring == 5 ||
          hourstring == 6
        ) {
          back.classList.add('con')
          star1.setAttribute('id', 'stardisplay')
          star2.setAttribute('id', 'stardisplay')
          star3.setAttribute('id', 'stardisplay')
          star4.setAttribute('id', 'stardisplay')
          star5.setAttribute('id', 'stardisplay')
          star7.setAttribute('id', 'stardisplay')
          star8.setAttribute('id', 'stardisplay')
          star9.setAttribute('id', 'stardisplay')
          star10.setAttribute('id', 'stardisplay')

          morn.setAttribute('id', 'morn')

          night.setAttribute('id', 'ni')

          cloud1.setAttribute('id', 'cloudisplay')
          cloud2.setAttribute('id', 'cloudisplay')
          cloud3.setAttribute('id', 'cloudisplay')
          cloud4.setAttribute('id', 'cloudisplay')
          cloud5.setAttribute('id', 'cloudisplay')
          cloud6.setAttribute('id', 'cloudisplay')

          weath.setAttribute('id', 'weath')
        } else {
          back.classList.remove('con')
          star1.removeAttribute('id')
          star2.removeAttribute('id')
          star3.removeAttribute('id')
          star4.removeAttribute('id')
          star5.removeAttribute('id')
          star7.removeAttribute('id')
          star8.removeAttribute('id')
          star9.removeAttribute('id')
          star10.removeAttribute('id')

          morn.removeAttribute('id')

          night.removeAttribute('id')

          cloud1.removeAttribute('id')
          cloud2.removeAttribute('id')
          cloud3.removeAttribute('id')
          cloud4.removeAttribute('id')
          cloud5.removeAttribute('id')
          cloud6.removeAttribute('id')

          weath.removeAttribute('id')
        }
        const clk = document.getElementsByClassName('inpbtn')[0]

        clk.addEventListener('click', () => {
          const inp = document.getElementById('inp')
          const val = inp.value
          console.log(val)
          fetch(
            `https://api.openweathermap.org/data/2.5/forecast?q=${val}&appid=9fd544ce77b58f31ccce1010b923cc09&units=metric`
          )
            .then((apidata) => {
              return apidata.json()
            })
            .then((data) => {
              document.getElementById('temp').innerText = data.list[0].main.temp
              document.getElementById('humid').innerText =
                data.list[0].main.humidity
              document.getElementById('weather').innerText =
                data.list[0].weather[0].main
              document.getElementById('wind').innerText =
                data.list[0].wind.speed
              document.getElementById('state').innerText = data.city.name
              document.getElementById('country').innerText = data.city.country
              document.getElementById('wind_tomorrow').innerText =
                data.list[5].main.temp
              document.getElementById('humid_tomorrow').innerText =
                data.list[5].main.humidity
              document.getElementById('weath_tomorrow').innerText =
                data.list[5].wind.speed

              document.getElementById('wind_aft_tom').innerText =
                data.list[13].main.temp
              document.getElementById('humid_aft_tom').innerText =
                data.list[13].main.humidity
              document.getElementById('weath_aft_tom').innerText =
                data.list[13].wind.speed

              document.getElementById('wind_day_aft_tom').innerText =
                data.list[21].main.temp
              document.getElementById('humid_day_aft_tom').innerText =
                data.list[21].main.humidity
              document.getElementById('weath_day_aft_tom').innerText =
                data.list[21].wind.speed

              document.getElementById('wind_day_aft_aft_tom').innerText =
                data.list[29].main.temp
              document.getElementById('humid_day_aft_aft_tom').innerText =
                data.list[29].main.humidity
              document.getElementById('weath_day_aft_aft_tom').innerText =
                data.list[29].wind.speed
            })
        })

        setTimeout(time, 1000)
      }
      time()
    </script>
    <script src="./index.js"></script>
  </body>
</html>
